<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Fbplus.badge by shtange</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/pygment_trac.css">
    <link rel="stylesheet" href="css/fbplus.badge.css">
    <link rel="stylesheet" href="css/simple-slider.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="js/simple-slider.min.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Fbplus.badge</h1>
        <h4>modified facebook badge</h4>
        <p class="view"><a href="https://github.com/shtange/fbplus">View the Project on GitHub</a></p>
        <ul>
          <li><a href="https://github.com/shtange/fbplus/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/shtange/fbplus/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/shtange/fbplus">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <div><label>facebook.com/ </label><input type="text" maxlength="24" name="data-href" value="youtube"><span id="generate">&raquo;</span></div>
        <div id="FBplusBadge" data-width="240" data-href="https://facebook.com/youtube" data-rel="page" data-theme="light" data-lang="en"></div>
        <script type="text/javascript">
          (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'js/fbplus.badge.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
          })();
        </script>
        <div><input id="slider" type="text" value="240" data-slider="true" data-slider-range="160,420" data-slider-step="2"></div>
        <div class="tools theme"><span class="active">light</span><span>dark</span></div>
        <div class="tools lang"><span class="active">en</span><span>de</span><span>fr</span><span>it</span><span>ru</span><span>ua</span></div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/shtange">shtange</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>

    <script>
      cleanActiveNav = function($elem) {
        $elem.find('span').each(function() {
          $(this).removeAttr("class");
        });
      }

      var $badge = $('#FBplusBadge');

      $("[data-slider]").bind("slider:ready slider:changed", function (event, data) {
          $('.slider .nums').text(data.value);
          $badge.css('width', data.value + 'px');
          $badge.attr("data-width", data.value);
      });

      $('.tools.theme').on('click', 'span', function() {
        var _theme = $(this).text();
        $badge.attr('class', _theme);
        cleanActiveNav($(this).parent());
        $(this).addClass("active");
        $badge.attr("data-theme", _theme);
      });

      $('.tools.lang').on('click', 'span', function() {
        var _fblang = {'en': 'en_US', 'de': 'de_DE', 'fr': 'fr_FR', 'it': 'it_IT', 'es': 'es_ES', 'pt': 'pt_PT', 'ru': 'ru_RU', 'ua': 'uk_UA'},
            _ulng = $(this).text(),
            _lang = (_fblang[_ulng] && _fblang[_ulng].length > 0) ? _ulng : 'en',
            _href = $badge.attr("data-href"),
            _uname = _href.substring(_href.lastIndexOf("/")+1)
            _iframe = '<iframe class="' + _lang + '" src="http://www.facebook.com/plugins/like.php?href=https://facebook.com/' + _uname + '&width&layout=button&action=like&show_faces=false&share=false&height=35&locale=' + _fblang[_lang] + '" scrolling="no" frameborder="no" allowtransparency="true"></iframe>';
        if (!$(this).hasClass("active")) {
          $('.page-button').html(_iframe);
        }
        cleanActiveNav($(this).parent());
        $(this).addClass("active");
        $badge.attr("data-lang", _lang);
      });

      $('#generate').on('click', function() {
        redrawFBplusBadge($('input[name="data-href"]').val());
      });
    </script>

    <script src="js/scale.fix.js"></script>
  </body>
</html>